{"ast":null,"code":"var _jsxFileName = \"/Users/denizyuksel/Desktop/prosmarttravel/frontend/src/components/Booking/TransferBooking.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useContext } from \"react\";\nimport { Form, FormGroup, Button } from \"reactstrap\";\nimport { useNavigate } from \"react-router-dom\";\nimport { AuthContext } from \"../../context/AuthContext\";\nimport \"./transferBooking.css\";\nimport { BASE_URL } from \"../../utils/config\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst TransferBooking = _ref => {\n  _s();\n  let {\n    transfer\n  } = _ref;\n  const {\n    price\n  } = transfer;\n  const navigate = useNavigate();\n  const {\n    user\n  } = useContext(AuthContext);\n  const [booking, setBooking] = useState({\n    userId: user ? user._id : null,\n    userEmail: user ? user.email : \"\",\n    transferFrom: transfer.origin,\n    transferTo: transfer.destination,\n    flightNumber: \"\",\n    fullName: \"\",\n    address: \"\",\n    // New field for drop-off address\n    phone: \"\",\n    passengerNames: \"\",\n    transferDate: \"\",\n    transferTime: \"\",\n    note: \"\"\n  });\n  const handleSwap = () => {\n    setBooking(prevBooking => ({\n      ...prevBooking,\n      transferFrom: prevBooking.transferTo,\n      transferTo: prevBooking.transferFrom\n    }));\n  };\n  const handleChange = e => {\n    setBooking(prev => ({\n      ...prev,\n      [e.target.id]: e.target.value\n    }));\n  };\n  const handleClick = async e => {\n    e.preventDefault();\n    try {\n      const res = await fetch(`${BASE_URL}/transfer-booking`, {\n        method: \"post\",\n        headers: {\n          \"content-type\": \"application/json\"\n        },\n        credentials: \"include\",\n        body: JSON.stringify(booking)\n      });\n      const result = await res.json();\n      if (!res.ok) {\n        return alert(result.message);\n      }\n      navigate(\"/thank-you\");\n    } catch (error) {\n      alert(error.message);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"booking\",\n    children: [/*#__PURE__*/_jsxDEV(Form, {\n      onSubmit: handleClick,\n      className: \"booking__form\",\n      children: [/*#__PURE__*/_jsxDEV(FormGroup, {\n        className: \"booking__info-form\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"fullName\",\n          placeholder: \"Name Surname\",\n          required: true,\n          id: \"fullName\",\n          onChange: handleChange,\n          className: \"booking__form-input\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 7\n        }, this), !user && /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"email\",\n          id: \"userEmail\",\n          placeholder: \"Enter your email\",\n          value: booking.userEmail,\n          onChange: handleChange,\n          required: true,\n          className: \"booking__form-input\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          id: \"phone\",\n          placeholder: \"Phone\",\n          required: true,\n          value: booking.phone,\n          onChange: handleChange,\n          className: \"booking__form-input\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          id: \"passengerNames\",\n          placeholder: \"Passengers Names\",\n          value: booking.passengerNames,\n          required: true,\n          onChange: handleChange,\n          className: \"booking__form-input\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 7\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(FormGroup, {\n        className: \"booking__info-form\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"transfer-info\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"transfer-info__text\",\n            children: [\"Transfer From: \", booking.transferFrom]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 114,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn swap-btn\",\n            onClick: handleSwap,\n            children: \"Swap\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 115,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"transfer-info__text\",\n            children: [\"Transfer To: \", booking.transferTo]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 116,\n            columnNumber: 9\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          id: \"address\",\n          placeholder: \"Exact Address for Pick-Up or Drop-Off\",\n          value: booking.address,\n          onChange: handleChange,\n          required: true,\n          className: \"booking__form-input\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          id: \"flightNumber\",\n          placeholder: \"Flight number\",\n          value: booking.flightNumber,\n          required: true,\n          onChange: handleChange,\n          className: \"booking__form-input\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"date\",\n          id: \"transferDate\",\n          required: true,\n          value: booking.transferDate,\n          onChange: handleChange,\n          className: \"booking__form-input\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"time\",\n          id: \"transferTime\",\n          required: true,\n          value: booking.transferTime,\n          onChange: handleChange,\n          className: \"booking__form-input\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 145,\n          columnNumber: 1\n        }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n          id: \"note\",\n          placeholder: \"Note\",\n          onChange: handleChange,\n          value: booking.note,\n          className: \"booking__form-input\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 1\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 3\n    }, this), /*#__PURE__*/_jsxDEV(Button, {\n      onClick: handleClick,\n      className: \"btn primary__btn\",\n      children: [\"Book Now - $\", price]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 3\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 67,\n    columnNumber: 5\n  }, this);\n};\n_s(TransferBooking, \"otFDh1uF8Qc1JNhux+dVdGxh8wc=\", false, function () {\n  return [useNavigate];\n});\n_c = TransferBooking;\nexport default TransferBooking;\nvar _c;\n$RefreshReg$(_c, \"TransferBooking\");","map":{"version":3,"names":["React","useState","useContext","Form","FormGroup","Button","useNavigate","AuthContext","BASE_URL","TransferBooking","transfer","price","navigate","user","booking","setBooking","userId","_id","userEmail","email","transferFrom","origin","transferTo","destination","flightNumber","fullName","address","phone","passengerNames","transferDate","transferTime","note","handleSwap","prevBooking","handleChange","e","prev","target","id","value","handleClick","preventDefault","res","fetch","method","headers","credentials","body","JSON","stringify","result","json","ok","alert","message","error"],"sources":["/Users/denizyuksel/Desktop/prosmarttravel/frontend/src/components/Booking/TransferBooking.jsx"],"sourcesContent":["import React, { useState, useContext } from \"react\";\nimport { Form, FormGroup, Button } from \"reactstrap\";\nimport { useNavigate } from \"react-router-dom\";\nimport { AuthContext } from \"../../context/AuthContext\";\nimport \"./transferBooking.css\";\nimport { BASE_URL } from \"../../utils/config\";\n\n\nconst TransferBooking = ({ transfer }) => {\n  const { price } = transfer;\n  const navigate = useNavigate();\n  const { user } = useContext(AuthContext);\n\n  const [booking, setBooking] = useState({\n    userId: user ? user._id : null,\n    userEmail: user ? user.email : \"\",\n    transferFrom: transfer.origin,\n    transferTo: transfer.destination,\n    flightNumber: \"\",\n    fullName: \"\",\n    address: \"\", // New field for drop-off address\n    phone: \"\",\n    passengerNames: \"\",\n    transferDate: \"\",\n    transferTime: \"\",\n    note: \"\"\n  });\n\n  const handleSwap = () => {\n    setBooking(prevBooking => ({\n      ...prevBooking,\n      transferFrom: prevBooking.transferTo,\n      transferTo: prevBooking.transferFrom\n    }));\n  };\n  const handleChange = e => {\n    setBooking(prev=>({...prev,[e.target.id]:e.target.value})\n    );\n  };\n  \n  const handleClick = async e => {\n    e.preventDefault();\n  \n\n    try {\n      const res = await fetch(`${BASE_URL}/transfer-booking`, {\n        method:\"post\",\n        headers:{\"content-type\":\"application/json\"},\n        credentials:\"include\",\n        body:JSON.stringify(booking)\n    });\n    const result=await res.json();\n    if(!res.ok) {\n      return alert(result.message);\n    }\n    navigate(\"/thank-you\");\n\n\n} catch (error) {\n  alert(error.message);\n  \n}\n  };\n  \n\n  return (\n    <div className=\"booking\">\n  <Form onSubmit={handleClick} className=\"booking__form\">\n    {/* Personal Information Fields */}\n    <FormGroup className=\"booking__info-form\">\n      <input\n        type=\"text\"\n        name=\"fullName\"\n        placeholder=\"Name Surname\"\n        required\n        id=\"fullName\"\n        onChange={handleChange}\n        className=\"booking__form-input\"\n      />\n      {!user && (\n        <input\n          type=\"email\"\n          id=\"userEmail\"\n          placeholder=\"Enter your email\"\n          value={booking.userEmail}\n          onChange={handleChange}\n          required\n          className=\"booking__form-input\"\n        />\n      )}\n      <input\n        type=\"text\"\n        id=\"phone\"\n        placeholder=\"Phone\"\n        required\n        value={booking.phone}\n        onChange={handleChange}\n        className=\"booking__form-input\"\n      />\n      <input\n        type=\"text\"\n        id=\"passengerNames\"\n        placeholder=\"Passengers Names\"\n        value={booking.passengerNames}\n        required\n        onChange={handleChange}\n        className=\"booking__form-input\"\n      />\n    </FormGroup>\n\n    {/* Transfer Information Fields */}\n    <FormGroup className=\"booking__info-form\">\n      <div className=\"transfer-info\">\n        <p className=\"transfer-info__text\">Transfer From: {booking.transferFrom}</p>\n        <button className=\"btn swap-btn\" onClick={handleSwap}>Swap</button>\n        <p className=\"transfer-info__text\">Transfer To: {booking.transferTo}</p>\n      </div>\n      <input\n        type=\"text\"\n        id=\"address\"\n        placeholder=\"Exact Address for Pick-Up or Drop-Off\"\n        value={booking.address}\n        onChange={handleChange}\n        required\n        className=\"booking__form-input\"\n      />\n      <input\n        type=\"text\"\n        id=\"flightNumber\"\n        placeholder=\"Flight number\"\n        value={booking.flightNumber}\n        required\n        onChange={handleChange}\n        className=\"booking__form-input\"\n      />\n      <input\n        type=\"date\"\n        id=\"transferDate\"\n        required\n        value={booking.transferDate\n        }\nonChange={handleChange}\nclassName=\"booking__form-input\"\n/>\n<input\n     type=\"time\"\n     id=\"transferTime\"\n     required\n     value={booking.transferTime}\n     onChange={handleChange}\n     className=\"booking__form-input\"\n   />\n<textarea\n     id=\"note\"\n     placeholder=\"Note\"\n     onChange={handleChange}\n     value={booking.note}\n     className=\"booking__form-input\"\n   />\n</FormGroup>\n\n  </Form>\n  <Button onClick={handleClick} className=\"btn primary__btn\">\n    Book Now - ${price}\n  </Button>\n</div>\n  );\n};\n\nexport default TransferBooking;"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,UAAU,QAAQ,OAAO;AACnD,SAASC,IAAI,EAAEC,SAAS,EAAEC,MAAM,QAAQ,YAAY;AACpD,SAASC,WAAW,QAAQ,kBAAkB;AAC9C,SAASC,WAAW,QAAQ,2BAA2B;AACvD,OAAO,uBAAuB;AAC9B,SAASC,QAAQ,QAAQ,oBAAoB;AAAC;AAG9C,MAAMC,eAAe,GAAG,QAAkB;EAAA;EAAA,IAAjB;IAAEC;EAAS,CAAC;EACnC,MAAM;IAAEC;EAAM,CAAC,GAAGD,QAAQ;EAC1B,MAAME,QAAQ,GAAGN,WAAW,EAAE;EAC9B,MAAM;IAAEO;EAAK,CAAC,GAAGX,UAAU,CAACK,WAAW,CAAC;EAExC,MAAM,CAACO,OAAO,EAAEC,UAAU,CAAC,GAAGd,QAAQ,CAAC;IACrCe,MAAM,EAAEH,IAAI,GAAGA,IAAI,CAACI,GAAG,GAAG,IAAI;IAC9BC,SAAS,EAAEL,IAAI,GAAGA,IAAI,CAACM,KAAK,GAAG,EAAE;IACjCC,YAAY,EAAEV,QAAQ,CAACW,MAAM;IAC7BC,UAAU,EAAEZ,QAAQ,CAACa,WAAW;IAChCC,YAAY,EAAE,EAAE;IAChBC,QAAQ,EAAE,EAAE;IACZC,OAAO,EAAE,EAAE;IAAE;IACbC,KAAK,EAAE,EAAE;IACTC,cAAc,EAAE,EAAE;IAClBC,YAAY,EAAE,EAAE;IAChBC,YAAY,EAAE,EAAE;IAChBC,IAAI,EAAE;EACR,CAAC,CAAC;EAEF,MAAMC,UAAU,GAAG,MAAM;IACvBjB,UAAU,CAACkB,WAAW,KAAK;MACzB,GAAGA,WAAW;MACdb,YAAY,EAAEa,WAAW,CAACX,UAAU;MACpCA,UAAU,EAAEW,WAAW,CAACb;IAC1B,CAAC,CAAC,CAAC;EACL,CAAC;EACD,MAAMc,YAAY,GAAGC,CAAC,IAAI;IACxBpB,UAAU,CAACqB,IAAI,KAAG;MAAC,GAAGA,IAAI;MAAC,CAACD,CAAC,CAACE,MAAM,CAACC,EAAE,GAAEH,CAAC,CAACE,MAAM,CAACE;IAAK,CAAC,CAAC,CACxD;EACH,CAAC;EAED,MAAMC,WAAW,GAAG,MAAML,CAAC,IAAI;IAC7BA,CAAC,CAACM,cAAc,EAAE;IAGlB,IAAI;MACF,MAAMC,GAAG,GAAG,MAAMC,KAAK,CAAE,GAAEnC,QAAS,mBAAkB,EAAE;QACtDoC,MAAM,EAAC,MAAM;QACbC,OAAO,EAAC;UAAC,cAAc,EAAC;QAAkB,CAAC;QAC3CC,WAAW,EAAC,SAAS;QACrBC,IAAI,EAACC,IAAI,CAACC,SAAS,CAACnC,OAAO;MAC/B,CAAC,CAAC;MACF,MAAMoC,MAAM,GAAC,MAAMR,GAAG,CAACS,IAAI,EAAE;MAC7B,IAAG,CAACT,GAAG,CAACU,EAAE,EAAE;QACV,OAAOC,KAAK,CAACH,MAAM,CAACI,OAAO,CAAC;MAC9B;MACA1C,QAAQ,CAAC,YAAY,CAAC;IAG1B,CAAC,CAAC,OAAO2C,KAAK,EAAE;MACdF,KAAK,CAACE,KAAK,CAACD,OAAO,CAAC;IAEtB;EACE,CAAC;EAGD,oBACE;IAAK,SAAS,EAAC,SAAS;IAAA,wBAC1B,QAAC,IAAI;MAAC,QAAQ,EAAEd,WAAY;MAAC,SAAS,EAAC,eAAe;MAAA,wBAEpD,QAAC,SAAS;QAAC,SAAS,EAAC,oBAAoB;QAAA,wBACvC;UACE,IAAI,EAAC,MAAM;UACX,IAAI,EAAC,UAAU;UACf,WAAW,EAAC,cAAc;UAC1B,QAAQ;UACR,EAAE,EAAC,UAAU;UACb,QAAQ,EAAEN,YAAa;UACvB,SAAS,EAAC;QAAqB;UAAA;UAAA;UAAA;QAAA,QAC/B,EACD,CAACrB,IAAI,iBACJ;UACE,IAAI,EAAC,OAAO;UACZ,EAAE,EAAC,WAAW;UACd,WAAW,EAAC,kBAAkB;UAC9B,KAAK,EAAEC,OAAO,CAACI,SAAU;UACzB,QAAQ,EAAEgB,YAAa;UACvB,QAAQ;UACR,SAAS,EAAC;QAAqB;UAAA;UAAA;UAAA;QAAA,QAElC,eACD;UACE,IAAI,EAAC,MAAM;UACX,EAAE,EAAC,OAAO;UACV,WAAW,EAAC,OAAO;UACnB,QAAQ;UACR,KAAK,EAAEpB,OAAO,CAACa,KAAM;UACrB,QAAQ,EAAEO,YAAa;UACvB,SAAS,EAAC;QAAqB;UAAA;UAAA;UAAA;QAAA,QAC/B,eACF;UACE,IAAI,EAAC,MAAM;UACX,EAAE,EAAC,gBAAgB;UACnB,WAAW,EAAC,kBAAkB;UAC9B,KAAK,EAAEpB,OAAO,CAACc,cAAe;UAC9B,QAAQ;UACR,QAAQ,EAAEM,YAAa;UACvB,SAAS,EAAC;QAAqB;UAAA;UAAA;UAAA;QAAA,QAC/B;MAAA;QAAA;QAAA;QAAA;MAAA,QACQ,eAGZ,QAAC,SAAS;QAAC,SAAS,EAAC,oBAAoB;QAAA,wBACvC;UAAK,SAAS,EAAC,eAAe;UAAA,wBAC5B;YAAG,SAAS,EAAC,qBAAqB;YAAA,WAAC,iBAAe,EAACpB,OAAO,CAACM,YAAY;UAAA;YAAA;YAAA;YAAA;UAAA,QAAK,eAC5E;YAAQ,SAAS,EAAC,cAAc;YAAC,OAAO,EAAEY,UAAW;YAAA,UAAC;UAAI;YAAA;YAAA;YAAA;UAAA,QAAS,eACnE;YAAG,SAAS,EAAC,qBAAqB;YAAA,WAAC,eAAa,EAAClB,OAAO,CAACQ,UAAU;UAAA;YAAA;YAAA;YAAA;UAAA,QAAK;QAAA;UAAA;UAAA;UAAA;QAAA,QACpE,eACN;UACE,IAAI,EAAC,MAAM;UACX,EAAE,EAAC,SAAS;UACZ,WAAW,EAAC,uCAAuC;UACnD,KAAK,EAAER,OAAO,CAACY,OAAQ;UACvB,QAAQ,EAAEQ,YAAa;UACvB,QAAQ;UACR,SAAS,EAAC;QAAqB;UAAA;UAAA;UAAA;QAAA,QAC/B,eACF;UACE,IAAI,EAAC,MAAM;UACX,EAAE,EAAC,cAAc;UACjB,WAAW,EAAC,eAAe;UAC3B,KAAK,EAAEpB,OAAO,CAACU,YAAa;UAC5B,QAAQ;UACR,QAAQ,EAAEU,YAAa;UACvB,SAAS,EAAC;QAAqB;UAAA;UAAA;UAAA;QAAA,QAC/B,eACF;UACE,IAAI,EAAC,MAAM;UACX,EAAE,EAAC,cAAc;UACjB,QAAQ;UACR,KAAK,EAAEpB,OAAO,CAACe,YACd;UACT,QAAQ,EAAEK,YAAa;UACvB,SAAS,EAAC;QAAqB;UAAA;UAAA;UAAA;QAAA,QAC7B,eACF;UACK,IAAI,EAAC,MAAM;UACX,EAAE,EAAC,cAAc;UACjB,QAAQ;UACR,KAAK,EAAEpB,OAAO,CAACgB,YAAa;UAC5B,QAAQ,EAAEI,YAAa;UACvB,SAAS,EAAC;QAAqB;UAAA;UAAA;UAAA;QAAA,QAC/B,eACL;UACK,EAAE,EAAC,MAAM;UACT,WAAW,EAAC,MAAM;UAClB,QAAQ,EAAEA,YAAa;UACvB,KAAK,EAAEpB,OAAO,CAACiB,IAAK;UACpB,SAAS,EAAC;QAAqB;UAAA;UAAA;UAAA;QAAA,QAC/B;MAAA;QAAA;QAAA;QAAA;MAAA,QACO;IAAA;MAAA;MAAA;MAAA;IAAA,QAEH,eACP,QAAC,MAAM;MAAC,OAAO,EAAES,WAAY;MAAC,SAAS,EAAC,kBAAkB;MAAA,WAAC,cAC7C,EAAC7B,KAAK;IAAA;MAAA;MAAA;MAAA;IAAA,QACX;EAAA;IAAA;IAAA;IAAA;EAAA,QACL;AAEN,CAAC;AAAC,GA/JIF,eAAe;EAAA,QAEFH,WAAW;AAAA;AAAA,KAFxBG,eAAe;AAiKrB,eAAeA,eAAe;AAAC;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}